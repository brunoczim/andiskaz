<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Cleaning up signals."><meta name="keywords" content="rust, rustlang, rust-lang, cleanup"><title>signal_hook::cleanup - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../signal_hook/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module cleanup</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="cleanup" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">signal_hook</a>::<wbr><a class="mod" href="#">cleanup</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/signal_hook/cleanup.rs.html#1-207" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Cleaning up signals.</p>
<p>The routines in this module allow resetting the signals of an application back to defaults.
This is intended for the following situation:</p>
<ul>
<li>A terminal signal (eg. a <code>SIGTERM</code>, <code>SIGINT</code> or something similar) is received.</li>
<li>The application resets the signal handlers to defaults.</li>
<li>The application proceeds to perform some kind of shutdown (saving data, cleaning up, …).</li>
<li>If another such signal is received, the application is terminated right away the hard way,
without finishing the shutdown.</li>
</ul>
<p>The alternative of leaving the original signals in place might be problematic in case the
shutdown takes a long time or when it gets stuck. In such case the application would appear to
ignore the signal and just refuse to die.</p>
<p>There are two ways to perform the reset:</p>
<ul>
<li>Registering the reset as part of the signal handlers. This is more reliable (even in case the
application is already stuck in some kind of infinite loop, it would still work). This is
done by <a href="fn.register.html" title="register">register</a>.</li>
<li>Manually resetting the handlers just before the shutdown. This is done with <a href="fn.cleanup_signal.html" title="cleanup_signal">cleanup_signal</a>.</li>
</ul>
</div></details><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cleanup_raw.html" title="signal_hook::cleanup::cleanup_raw fn">cleanup_raw</a></div><div class="item-right docblock-short"><p>Resets the signal handler to the default one.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cleanup_signal.html" title="signal_hook::cleanup::cleanup_signal fn">cleanup_signal</a></div><div class="item-right docblock-short"><p>Resets the signal handler to the default one and removes all its hooks.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.register.html" title="signal_hook::cleanup::register fn">register</a></div><div class="item-right docblock-short"><p>Register a cleanup after receiving a signal.</p>
</div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="signal_hook" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>