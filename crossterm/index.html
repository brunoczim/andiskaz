<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `crossterm` crate."><meta name="keywords" content="rust, rustlang, rust-lang, crossterm"><title>crossterm - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../crossterm/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate crossterm</p><div class="block version"><p>Version 0.18.2</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all crossterm's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><script>window.sidebarCurrent = {name: "crossterm", ty: "mod", relpath: "../"};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/crossterm/lib.rs.html#1-257" title="goto source code">[src]</a></span><span class="in-band">Crate <a class="mod" href="">crossterm</a></span></h1><div class="docblock"><h1 id="crossterm" class="section-header"><a href="#crossterm">Crossterm</a></h1>
<p>Have you ever been disappointed when a terminal library for rust was only written for UNIX systems?
Crossterm provides clearing, event (input) handling, styling, cursor movement, and terminal actions for both
Windows and UNIX systems.</p>
<p>Crossterm aims to be simple and easy to call in code. Through the simplicity of Crossterm, you do not
have to worry about the platform you are working with.</p>
<p>This crate supports all UNIX and Windows terminals down to Windows 7 (not all terminals are tested
see <a href="https://github.com/crossterm-rs/crossterm#tested-terminals">Tested Terminals</a>
for more info).</p>
<h2 id="command-api" class="section-header"><a href="#command-api">Command API</a></h2>
<p>The command API makes the use of <code>crossterm</code> much easier and offers more control over when and how a
command is executed. A command is just an action you can perform on the terminal e.g. cursor movement.</p>
<p>The command API offers:</p>
<ul>
<li>Better Performance.</li>
<li>Complete control over when to flush.</li>
<li>Complete control over where the ANSI escape commands are executed to.</li>
<li>Way easier and nicer API.</li>
</ul>
<p>There are two ways to use the API command:</p>
<ul>
<li>Functions can execute commands on types that implement Write. Functions are easier to use and debug.
There is a disadvantage, and that is that there is a boilerplate code involved.</li>
<li>Macros are generally seen as more difficult and aren't always well supported by editors but offer an API with less boilerplate code. If you are
not afraid of macros, this is a recommendation.</li>
</ul>
<p>Linux and Windows 10 systems support ANSI escape codes. Those ANSI escape codes are strings or rather a
byte sequence. When we <code>write</code> and <code>flush</code> those to the terminal we can perform some action.
For older windows systems a WinApi call is made.</p>
<h3 id="supported-commands" class="section-header"><a href="#supported-commands">Supported Commands</a></h3>
<ul>
<li>Module <a href="cursor/index.html"><code>cursor</code></a>
<ul>
<li>Visibility - <a href="cursor/struct.Show.html"><code>Show</code></a>, <a href="cursor/struct.Hide.html"><code>Hide</code></a></li>
<li>Appearance - <a href="cursor/struct.EnableBlinking.html"><code>EnableBlinking</code></a>,
<a href="cursor/struct.DisableBlinking.html"><code>DisableBlinking</code></a></li>
<li>Position -
<a href="cursor/struct.SavePosition.html"><code>SavePosition</code></a>, <a href="cursor/struct.RestorePosition.html"><code>RestorePosition</code></a>,
<a href="cursor/struct.MoveUp.html"><code>MoveUp</code></a>, <a href="cursor/struct.MoveDown.html"><code>MoveDown</code></a>,
<a href="cursor/struct.MoveLeft.html"><code>MoveLeft</code></a>, <a href="cursor/struct.MoveRight.html"><code>MoveRight</code></a>,
<a href="cursor/struct.MoveTo.html"><code>MoveTo</code></a>, <a href="cursor/struct.MoveToColumn.html"><code>MoveToColumn</code></a>,
<a href="cursor/struct.MoveToNextLine.html"><code>MoveToNextLine</code></a>, <a href="cursor/struct.MoveToPreviousLine.html"><code>MoveToPreviousLine</code></a>,</li>
</ul>
</li>
<li>Module <a href="event/index.html"><code>event</code></a>
<ul>
<li>Mouse events - <a href="event/struct.EnableMouseCapture.html"><code>EnableMouseCapture</code></a>,
<a href="event/struct.DisableMouseCapture.html"><code>DisableMouseCapture</code></a></li>
</ul>
</li>
<li>Module <a href="style/index.html"><code>style</code></a>
<ul>
<li>Colors - <a href="style/struct.SetForegroundColor.html"><code>SetForegroundColor</code></a>,
<a href="style/struct.SetBackgroundColor.html"><code>SetBackgroundColor</code></a>,
<a href="style/struct.ResetColor.html"><code>ResetColor</code></a>, <a href="style/struct.SetColors.html"><code>SetColors</code></a></li>
<li>Attributes - <a href="style/struct.SetAttribute.html"><code>SetAttribute</code></a>, <a href="style/struct.SetAttributes.html"><code>SetAttributes</code></a>,
<a href="style/struct.PrintStyledContent.html"><code>PrintStyledContent</code></a></li>
</ul>
</li>
<li>Module <a href="terminal/index.html"><code>terminal</code></a>
<ul>
<li>Scrolling - <a href="terminal/struct.ScrollUp.html"><code>ScrollUp</code></a>,
<a href="terminal/struct.ScrollDown.html"><code>ScrollDown</code></a></li>
<li>Miscellaneous - <a href="terminal/struct.Clear.html"><code>Clear</code></a>,
<a href="terminal/struct.SetSize.html"><code>SetSize</code></a>
<a href="terminal/struct.SetTitle.html"><code>SetTitle</code></a>
<a href="terminal/struct.DisableLineWrap.html"><code>DisableLineWrap</code></a>
<a href="terminal/struct.EnableLineWrap.html"><code>EnableLineWrap</code></a></li>
<li>Alternate screen - <a href="terminal/struct.EnterAlternateScreen.html"><code>EnterAlternateScreen</code></a>,
<a href="terminal/struct.LeaveAlternateScreen.html"><code>LeaveAlternateScreen</code></a></li>
</ul>
</li>
</ul>
<h3 id="command-execution" class="section-header"><a href="#command-execution">Command Execution</a></h3>
<p>There are two different ways to execute commands:</p>
<ul>
<li><a href="#lazy-execution">Lazy Execution</a></li>
<li><a href="#direct-execution">Direct Execution</a></li>
</ul>
<h4 id="lazy-execution" class="section-header"><a href="#lazy-execution">Lazy Execution</a></h4>
<p>Flushing bytes to the terminal buffer is a heavy system call. If we perform a lot of actions with the terminal,
we want to do this periodically - like with a TUI editor - so that we can flush more data to the terminal buffer
at the same time.</p>
<p>Crossterm offers the possibility to do this with <code>queue</code>.
With <code>queue</code> you can queue commands, and when you call <a href="https://doc.rust-lang.org/std/io/trait.Write.html#tymethod.flush">Write::flush</a> these commands will be executed.</p>
<p>You can pass a custom buffer implementing <a href="https://doc.rust-lang.org/std/io/trait.Write.html">std::io::Write</a> to this <code>queue</code> operation.
The commands will be executed on that buffer.
The most common buffer is <a href="https://doc.rust-lang.org/std/io/fn.stdout.html">std::io::stdout</a> however, <a href="https://doc.rust-lang.org/std/io/fn.stderr.html">std::io::stderr</a> is used sometimes as well.</p>
<h5 id="examples" class="section-header"><a href="#examples">Examples</a></h5>
<p>A simple demonstration that shows the command API in action with cursor commands.</p>
<p>Functions:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">Write</span>, <span class="ident">stdout</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{<span class="ident">QueueableCommand</span>, <span class="ident">cursor</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();
<span class="ident">stdout</span>.<span class="ident">queue</span>(<span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="number">5</span>,<span class="number">5</span>));

<span class="comment">// some other code ...</span>

<span class="ident">stdout</span>.<span class="ident">flush</span>();</pre></div>
<p>The <a href="./trait.QueueableCommand.html">queue</a> function returns itself, therefore you can use this to queue another
command. Like <code>stdout.queue(Goto(5,5)).queue(Clear(ClearType::All))</code>.</p>
<p>Macros:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">Write</span>, <span class="ident">stdout</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{<span class="ident">queue</span>, <span class="ident">QueueableCommand</span>, <span class="ident">cursor</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();
<span class="macro">queue</span><span class="macro">!</span>(<span class="ident">stdout</span>,  <span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="number">5</span>, <span class="number">5</span>));

<span class="comment">// some other code ...</span>

<span class="comment">// move operation is performed only if we flush the buffer.</span>
<span class="ident">stdout</span>.<span class="ident">flush</span>();</pre></div>
<p>You can pass more than one command into the <a href="./macro.queue.html">queue</a> macro like
<code>queue!(stdout, MoveTo(5, 5), Clear(ClearType::All))</code> and
they will be executed in the given order from left to right.</p>
<h4 id="direct-execution" class="section-header"><a href="#direct-execution">Direct Execution</a></h4>
<p>For many applications it is not at all important to be efficient with 'flush' operations.
For this use case there is the <code>execute</code> operation.
This operation executes the command immediately, and calls the <code>flush</code> under water.</p>
<p>You can pass a custom buffer implementing <a href="https://doc.rust-lang.org/std/io/trait.Write.html">std::io::Write</a> to this <code>execute</code> operation.
The commands will be executed on that buffer.
The most common buffer is <a href="https://doc.rust-lang.org/std/io/fn.stdout.html">std::io::stdout</a> however, <a href="https://doc.rust-lang.org/std/io/fn.stderr.html">std::io::stderr</a> is used sometimes as well.</p>
<h5 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h5>
<p>Functions:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">Write</span>, <span class="ident">stdout</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{<span class="ident">ExecutableCommand</span>, <span class="ident">cursor</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();
<span class="ident">stdout</span>.<span class="ident">execute</span>(<span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="number">5</span>,<span class="number">5</span>));</pre></div>
<p>The <a href="./trait.ExecutableCommand.html">execute</a> function returns itself, therefore you can use this to queue
another command. Like <code>stdout.queue(Goto(5,5)).queue(Clear(ClearType::All))</code>.</p>
<p>Macros:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">Write</span>, <span class="ident">stdout</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{<span class="ident">execute</span>, <span class="ident">ExecutableCommand</span>, <span class="ident">cursor</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();
<span class="macro">execute</span><span class="macro">!</span>(<span class="ident">stdout</span>, <span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="number">5</span>, <span class="number">5</span>));</pre></div>
<p>You can pass more than one command into the <a href="./macro.execute.html">execute</a> macro like
<code>execute!(stdout, MoveTo(5, 5), Clear(ClearType::All))</code> and they will be executed in the given order from
left to right.</p>
<h2 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h2>
<p>Print a rectangle colored with magenta and use both direct execution and lazy execution.</p>
<p>Functions:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">stdout</span>, <span class="ident">Write</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{
    <span class="ident">ExecutableCommand</span>, <span class="ident">QueueableCommand</span>,
    <span class="ident">terminal</span>, <span class="ident">cursor</span>, <span class="ident">style</span>::{<span class="self">self</span>, <span class="ident">Colorize</span>}, <span class="prelude-ty">Result</span>
};

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();

  <span class="ident">stdout</span>.<span class="ident">execute</span>(<span class="ident">terminal</span>::<span class="ident">Clear</span>(<span class="ident">terminal</span>::<span class="ident">ClearType</span>::<span class="ident">All</span>))<span class="question-mark">?</span>;

  <span class="kw">for</span> <span class="ident">y</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">40</span> {
    <span class="kw">for</span> <span class="ident">x</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">150</span> {
      <span class="kw">if</span> (<span class="ident">y</span> <span class="op">=</span><span class="op">=</span> <span class="number">0</span> <span class="op">|</span><span class="op">|</span> <span class="ident">y</span> <span class="op">=</span><span class="op">=</span> <span class="number">40</span> <span class="op">-</span> <span class="number">1</span>) <span class="op">|</span><span class="op">|</span> (<span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">0</span> <span class="op">|</span><span class="op">|</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">150</span> <span class="op">-</span> <span class="number">1</span>) {
        <span class="comment">// in this loop we are more efficient by not flushing the buffer.</span>
        <span class="ident">stdout</span>
          .<span class="ident">queue</span>(<span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="ident">x</span>,<span class="ident">y</span>))<span class="question-mark">?</span>
          .<span class="ident">queue</span>(<span class="ident">style</span>::<span class="ident">PrintStyledContent</span>( <span class="string">&quot;█&quot;</span>.<span class="ident">magenta</span>()))<span class="question-mark">?</span>;
      }
    }
  }
  <span class="ident">stdout</span>.<span class="ident">flush</span>()<span class="question-mark">?</span>;
  <span class="prelude-val">Ok</span>(())
}</pre></div>
<p>Macros:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::{<span class="ident">stdout</span>, <span class="ident">Write</span>};
<span class="kw">use</span> <span class="ident">crossterm</span>::{
    <span class="ident">execute</span>, <span class="ident">queue</span>,
    <span class="ident">style</span>::{<span class="self">self</span>, <span class="ident">Colorize</span>}, <span class="ident">cursor</span>, <span class="ident">terminal</span>, <span class="prelude-ty">Result</span>
};

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stdout</span> <span class="op">=</span> <span class="ident">stdout</span>();

  <span class="macro">execute</span><span class="macro">!</span>(<span class="ident">stdout</span>, <span class="ident">terminal</span>::<span class="ident">Clear</span>(<span class="ident">terminal</span>::<span class="ident">ClearType</span>::<span class="ident">All</span>))<span class="question-mark">?</span>;

  <span class="kw">for</span> <span class="ident">y</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">40</span> {
    <span class="kw">for</span> <span class="ident">x</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">150</span> {
      <span class="kw">if</span> (<span class="ident">y</span> <span class="op">=</span><span class="op">=</span> <span class="number">0</span> <span class="op">|</span><span class="op">|</span> <span class="ident">y</span> <span class="op">=</span><span class="op">=</span> <span class="number">40</span> <span class="op">-</span> <span class="number">1</span>) <span class="op">|</span><span class="op">|</span> (<span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">0</span> <span class="op">|</span><span class="op">|</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">150</span> <span class="op">-</span> <span class="number">1</span>) {
        <span class="comment">// in this loop we are more efficient by not flushing the buffer.</span>
        <span class="macro">queue</span><span class="macro">!</span>(<span class="ident">stdout</span>, <span class="ident">cursor</span>::<span class="ident">MoveTo</span>(<span class="ident">x</span>,<span class="ident">y</span>), <span class="ident">style</span>::<span class="ident">PrintStyledContent</span>( <span class="string">&quot;█&quot;</span>.<span class="ident">magenta</span>()))<span class="question-mark">?</span>;
      }
    }
  }
  <span class="ident">stdout</span>.<span class="ident">flush</span>()<span class="question-mark">?</span>;
  <span class="prelude-val">Ok</span>(())
}</pre></div>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="cursor/index.html" title="crossterm::cursor mod">cursor</a></td><td class="docblock-short"><p>A module to work with the terminal cursor</p>
</td></tr><tr class="module-item"><td><a class="mod" href="event/index.html" title="crossterm::event mod">event</a></td><td class="docblock-short"><p>A module to read events.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="style/index.html" title="crossterm::style mod">style</a></td><td class="docblock-short"><p>A module to apply attributes and colors on your text.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="terminal/index.html" title="crossterm::terminal mod">terminal</a></td><td class="docblock-short"><p>A module to work with the terminal.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="tty/index.html" title="crossterm::tty mod">tty</a></td><td class="docblock-short"><p>A module to query if the current instance is a tty.
Making it a little more convenient and safe to query whether
something is a terminal teletype or not.
This module defines the IsTty trait and the is_tty method to
return true if the item represents a terminal.</p>
</td></tr></table><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<table><tr class="module-item"><td><a class="macro" href="macro.execute.html" title="crossterm::execute macro">execute</a></td><td class="docblock-short"><p>Executes one or more command(s).</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.queue.html" title="crossterm::queue macro">queue</a></td><td class="docblock-short"><p>Queues one or more command(s) for further execution.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.ErrorKind.html" title="crossterm::ErrorKind enum">ErrorKind</a></td><td class="docblock-short"><p>Wrapper for all errors that can occur in <code>crossterm</code>.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Command.html" title="crossterm::Command trait">Command</a></td><td class="docblock-short"><p>An interface for a command that performs an action on the terminal.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.ExecutableCommand.html" title="crossterm::ExecutableCommand trait">ExecutableCommand</a></td><td class="docblock-short"><p>An interface for commands that are directly executed.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.QueueableCommand.html" title="crossterm::QueueableCommand trait">QueueableCommand</a></td><td class="docblock-short"><p>An interface for commands that can be queued for further execution.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.Result.html" title="crossterm::Result type">Result</a></td><td class="docblock-short"><p>The <code>crossterm</code> result type.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "crossterm";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>